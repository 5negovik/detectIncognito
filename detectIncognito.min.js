/**
 *
 * https://github.com/Joe12387/detectIncognito
 *
 * (c) 2021 Joe Rutkowski <Joe@dreggle.com>
 *
 * Incognito & Private Browsing detection
 *
 * Support: Safari for iOS   -- 8 to 15
 *          Safari for macOS <= 15
 *          Chrome/Chromium  -- 50 to 95 Dev
 *          Edge             -- 15 - 18; 79 to 95 Dev
 *          Firefox          -- 44 to 93 Beta
 *          MSIE             >= 10
 *
 **/
var detectIncognito=function(e){function o(){var e=navigator.vendor;return void 0!==e&&0===e.indexOf("Google")}function t(){var o,t,n=window;void 0!==navigator.maxTouchPoints?void 0!==n.safari&&void 0===n.DeviceMotionEvent?function(){try{window.safari.pushNotification.requestPermission("https://example.com","private",{},function(){})}catch(o){return e(!new RegExp("gesture").test(o))}e(!1)}():(o=!1,(t=document.createElement("iframe")).style.display="none",document.body.appendChild(t),t.contentWindow.applicationCache.addEventListener("error",function(){return o=!0,e(!0)}),setTimeout(function(){o||e(!1)},100)):function(){var o=window.openDatabase,t=window.localStorage;try{o(null,null,null,null)}catch(o){return e(!0)}try{t.setItem("test","1"),t.removeItem("test")}catch(o){return e(!0)}e(!1)}()}function n(){var o;(o=navigator,void 0!==o.storage&&void 0!==o.storage.estimate?o.storage.estimate():void 0!==o.webkitTemporaryStorage&&void 0!==o.webkitTemporaryStorage.queryUsageAndQuota?new Promise(function(e,t){o.webkitTemporaryStorage.queryUsageAndQuota(function(o,t){e({quota:t,usage:o})},t)}):Promise.resolve({quota:NaN,usage:NaN})).then(function(o){var t;e(o.quota<(void 0!==(t=window).performance&&void 0!==t.performance.memory&&void 0!==t.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824))}).catch(function(e){throw new Error("detectIncognito somehow failed to query storage quota")})}function i(){void 0!==Promise&&void 0!==Promise.allSettled?n():(0,window.webkitRequestFileSystem)(0,1,function(){e(!1)},function(){e(!0)})}!function(){if(void 0!==(n=navigator.vendor)&&0===n.indexOf("Apple"))t();else if(o()&&void 0!==navigator.brave)navigator.webkitTemporaryStorage.queryUsageAndQuota(function(o,t){console.log(t),e(t<1e10)},function(e){throw new Error("detectIncognito somehow failed to query storage quota")});else if(o())i();else if(void 0!==document.documentElement&&void 0!==document.documentElement.style.MozAppearance)e(void 0===navigator.serviceWorker);else{if(void 0===navigator.msSaveBlob)throw new Error("detectIncognito cannot determine the browser");e(void 0===window.indexedDB)}var n}()};